
#Beleza! Para configurar SSL no seu servidor Speedtest na porta 8080, voc√™ precisa garantir que:

O dom√≠nio est√° apontando para o IP do servidor

A porta 80 est√° aberta temporariamente para a valida√ß√£o do Let's Encrypt

O Certbot gera os certificados corretamente

O Speedtest usa esses certificados



##Instalar o Certbot
```
apt update && apt install certbot -y
```

##Para evitar conflitos, pare o Speedtest temporariamente:
```
systemctl stop ooklaserver
```
##Agora gere o certificado normalmente:
```
certbot certonly --standalone -d speedtest.ncinternet.com.br
```
##Digite 2

##Se tudo der certo, o certificado ser√° salvo em:
```
/etc/letsencrypt/live/speedtest.ncinternet.com.br/
```
##Edite o arquivo de configura√ß√£o do Speedtest:
```
nano /usr/local/src/ooklaserver/OoklaServer.properties
```
##Adicione ou edite as seguintes linhas:
```
openSSL.server.certificateFile = /etc/letsencrypt/live/speedtest.ncinternet.com.br/fullchain.pem
openSSL.server.privateKeyFile = /etc/letsencrypt/live/speedtest.ncinternet.com.br/privkey.pem
```
##Reinicie o Speedtest
```
systemctl restart ooklaserver
```
##Agora, teste acessando:
```
https://speedtest.ncinternet.com.br:8080
```


#Configurar Renova√ß√£o Autom√°tica
Como a porta 80 ser√° necess√°ria para renovar, o ideal √© usar um webserver para responder √† valida√ß√£o automaticamente. Se precisar, me avise que explico como fazer isso com Nginx. üöÄ



#Seu Certbot j√° est√° configurado para renovar automaticamente o certificado.
Mas como o Speedtest n√£o recarrega os certificados sozinho, crie um script de renova√ß√£o autom√°tica:

##Edite o cron:
```
crontab -e
```

##Adicione esta linha:
```
0 3 * * * certbot renew --quiet && systemctl restart ooklaserver
```

#‚úÖ Finalizado!
Agora seu Speedtest roda com HTTPS na porta 8080. üöÄ


